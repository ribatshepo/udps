# =============================================================================
# UDPS Production Environment Configuration
# =============================================================================
# Copy this file to .env and populate ALL values before deployment.
# NEVER commit the .env file to version control.
# =============================================================================

# ---------------------------------------------------------------------------
# UDPS Application
# ---------------------------------------------------------------------------
# Container image version tag
UDPS_VERSION=0.1.0

# JVM heap settings
JVM_HEAP_MIN=512m
JVM_HEAP_MAX=2g

# Log level: TRACE, DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# ---------------------------------------------------------------------------
# PostgreSQL - Metadata Catalog
# ---------------------------------------------------------------------------
POSTGRES_DB=udps_catalog
POSTGRES_USER=udps_prod
POSTGRES_PASSWORD=
# External port binding (host:container), set 0 to disable external access
POSTGRES_EXTERNAL_PORT=5432

# ---------------------------------------------------------------------------
# MinIO - S3-Compatible Object Storage (Archive Tier)
# ---------------------------------------------------------------------------
MINIO_ROOT_USER=
MINIO_ROOT_PASSWORD=
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
# Public URL for MinIO console redirect
MINIO_CONSOLE_URL=https://minio-console.udps.seri-sa.io

# ---------------------------------------------------------------------------
# Redis - Distributed Cache
# ---------------------------------------------------------------------------
REDIS_PASSWORD=
REDIS_MAX_MEMORY=512mb
REDIS_EXTERNAL_PORT=6379

# ---------------------------------------------------------------------------
# Kafka - Event Streaming
# ---------------------------------------------------------------------------
# External hostname for SSL listener advertisement
KAFKA_EXTERNAL_HOST=kafka.udps.seri-sa.io
KAFKA_EXTERNAL_PORT=9092
# Log retention: 168 hours = 7 days
KAFKA_LOG_RETENTION_HOURS=168
# Log retention bytes per partition (1 GB)
KAFKA_LOG_RETENTION_BYTES=1073741824
# Log segment size (512 MB)
KAFKA_LOG_SEGMENT_BYTES=536870912
# Max message size (10 MB)
KAFKA_MESSAGE_MAX_BYTES=10485760

# ---------------------------------------------------------------------------
# Jaeger - Distributed Tracing
# ---------------------------------------------------------------------------
JAEGER_UI_PORT=16686
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318

# ---------------------------------------------------------------------------
# TLS Certificate Directories
# ---------------------------------------------------------------------------
# Each directory must contain: tls.crt, tls.key, ca.crt
# Generate with your PKI or use certbot/step-ca
TLS_CERT_DIR=./.tls/udps
PG_TLS_CERT_DIR=./.tls/postgres
REDIS_TLS_CERT_DIR=./.tls/redis
MINIO_TLS_CERT_DIR=./.tls/minio
# Kafka uses JKS stores: kafka.keystore.jks, kafka.truststore.jks,
# keystore-creds, key-creds, truststore-creds files
KAFKA_TLS_CERT_DIR=./.tls/kafka
