udps.api {
  http {
    host = "0.0.0.0"
    host = ${?UDPS_API_HTTP_HOST}
    port = 8080
    port = ${?UDPS_API_HTTP_PORT}
    idle-timeout = 60s
    response-header-timeout = 30s
  }
  grpc {
    port = 9090
    port = ${?UDPS_API_GRPC_PORT}
    max-inbound-message-size = 4194304
  }
  cors {
    allowed-origins = ["*"]
    allowed-origins = ${?UDPS_API_CORS_ORIGINS}
    allowed-methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
    allowed-headers = ["Content-Type", "Authorization"]
    max-age = 86400s
  }
  catalog-db {
    jdbc-url = "jdbc:postgresql://localhost:5432/udps_catalog"
    jdbc-url = ${?UDPS_CATALOG_DB_URL}
    username = "udps"
    username = ${?UDPS_CATALOG_DB_USERNAME}
    password = "udps"
    password = ${?UDPS_CATALOG_DB_PASSWORD}
    maximum-pool-size = 10
    minimum-idle = 2
    connection-timeout-ms = 30000
  }
  auth {
    cache-ttl = 5m
    max-cache-size = 1000
  }
  usp-grpc {
    host = "localhost"
    host = ${?USP_GRPC_HOST}
    port = 9091
    port = ${?USP_GRPC_PORT}
  }
  circuit-breaker {
    max-failures = 5
    call-timeout = 10s
    reset-timeout = 30s
    exponential-backoff-factor = 2.0
    max-reset-timeout = 5m
  }
  storage {
    hot-path = "/tmp/udps/hot"
    hot-path = ${?UDPS_STORAGE_HOT_PATH}
    warm-path = "/tmp/udps/warm"
    warm-path = ${?UDPS_STORAGE_WARM_PATH}
    cold-path = "/tmp/udps/cold"
    cold-path = ${?UDPS_STORAGE_COLD_PATH}
    default-compression = "snappy"
    default-row-group-size = 134217728
    worker-threads = 4
  }
  minio {
    endpoint = "http://localhost:9000"
    endpoint = ${?UDPS_MINIO_ENDPOINT}
    access-key = "minioadmin"
    access-key = ${?UDPS_MINIO_ACCESS_KEY}
    secret-key = "minioadmin"
    secret-key = ${?UDPS_MINIO_SECRET_KEY}
    bucket = "udps-archive"
    bucket = ${?UDPS_MINIO_BUCKET}
  }
  version = "0.1.0"
  version = ${?UDPS_API_VERSION}
}
